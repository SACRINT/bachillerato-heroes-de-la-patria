<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Descargas - Bachillerato General Estatal "Héroes de la Patria"</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Centro de descargas de documentos oficiales del BGE Héroes de la Patria. Formatos, reglamentos, calendarios, guías de estudio y recursos educativos.">
    <meta name="keywords" content="descargas, documentos, formatos, reglamentos, guías estudio, recursos educativos, BGE">
    <meta name="author" content="BGE Héroes de la Patria">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Centro de Descargas - BGE Héroes de la Patria">
    <meta property="og:description" content="Descarga documentos oficiales, formatos y recursos educativos del bachillerato">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://heroesdelapatria.edu.mx/descargas.html">
    <meta property="og:image" content="https://heroesdelapatria.edu.mx/images/hero/fachada1.webp">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Centro de Descargas - BGE Héroes de la Patria">
    <meta name="twitter:description" content="Portal de descarga de documentos y recursos educativos">
    
    <!-- Preconnects -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Critical CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/logo-bachillerato-HDLP.webp" type="image/webp">
    <meta name="theme-color" content="#1976D2">
    
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Inicio",
                "item": "https://heroesdelapatria.edu.mx/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Servicios",
                "item": "https://heroesdelapatria.edu.mx/servicios.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Centro de Descargas",
                "item": "https://heroesdelapatria.edu.mx/descargas.html"
            }
        ]
    }
    </script>
</head>
<body>
    <!-- Skip Links -->
    <a href="#main-content" class="skip-link visually-hidden-focusable">Saltar al contenido principal</a>
    
    <!-- Header -->
    <div id="main-header"></div>
    
    <!-- Main Content -->
    <main id="main-content" class="main-content">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="breadcrumb-nav">
            <div class="container">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">
                            <i class="fas fa-home" aria-hidden="true"></i>
                            <span class="visually-hidden">Inicio</span>
                        </a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="servicios.html">Servicios</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Centro de Descargas</li>
                </ol>
            </div>
        </nav>

        <!-- Hero Section -->
        <section id="hero" class="page-hero bg-gradient-info text-white py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <h1 class="hero-title display-4 fw-bold mb-3">
                            <i class="fas fa-download me-3" aria-hidden="true"></i>
                            Centro de Descargas
                        </h1>
                        <p class="hero-subtitle lead mb-4">
                            Portal oficial de documentos, formatos, reglamentos y recursos educativos del 
                            Bachillerato General Estatal "Héroes de la Patria"
                        </p>
                        <!-- Hero Navigation Badges -->
                        <div class="hero-badges d-flex flex-wrap gap-2 justify-content-start mb-4">
                            <a href="#documentos-destacados" class="badge bg-light text-primary fs-6 text-decoration-none">
                                <i class="fas fa-download me-1" aria-hidden="true"></i>
                                Documentos Destacados
                            </a>
                            <a href="#categorias-documentos" class="badge bg-light text-success fs-6 text-decoration-none">
                                <i class="fas fa-search me-1" aria-hidden="true"></i>
                                Explorar por Categorías
                            </a>
                            <a href="#guia-usuario" class="badge bg-light text-info fs-6 text-decoration-none">
                                <i class="fas fa-question-circle me-1" aria-hidden="true"></i>
                                Guía de Uso
                            </a>
                            <a href="#catalogo-documentos" class="badge bg-light text-warning fs-6 text-decoration-none">
                                <i class="fas fa-folder-open me-1" aria-hidden="true"></i>
                                Catálogo Completo
                            </a>
                            <a href="#documentos-populares" class="badge bg-light text-danger fs-6 text-decoration-none">
                                <i class="fas fa-star me-1" aria-hidden="true"></i>
                                Más Populares
                            </a>
                            <a href="#documentos-recientes" class="badge bg-light text-dark fs-6 text-decoration-none">
                                <i class="fas fa-clock me-1" aria-hidden="true"></i>
                                Recientes
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-4 text-center">
                        <div class="hero-icon display-1 text-white-50">
                            <i class="fas fa-folder-open" aria-hidden="true"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Documentos Destacados -->
        <section id="documentos-destacados" class="py-5">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center mb-5">
                        <h2 class="fw-bold">Documentos Más Descargados</h2>
                        <p class="text-muted">Los documentos que más consulta nuestra comunidad educativa</p>
                    </div>
                </div>
                <div class="row g-4">
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-calendar-alt fa-3x text-primary"></i>
                                </div>
                                <h5 class="card-title">Calendario Escolar 2024-2025</h5>
                                <p class="card-text text-muted">Fechas importantes del ciclo escolar actual</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">PDF • 2.1 MB</small>
                                    <button class="btn btn-primary btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-file-contract fa-3x text-success"></i>
                                </div>
                                <h5 class="card-title">Reglamento Escolar</h5>
                                <p class="card-text text-muted">Normas y reglamentos de la institución</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">PDF • 1.5 MB</small>
                                    <button class="btn btn-success btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-user-plus fa-3x text-info"></i>
                                </div>
                                <h5 class="card-title">Guía de Admisión</h5>
                                <p class="card-text text-muted">Proceso de nuevo ingreso y requisitos</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">PDF • 3.2 MB</small>
                                    <button class="btn btn-info btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-clipboard-list fa-3x text-warning"></i>
                                </div>
                                <h5 class="card-title">Formatos de Trámites</h5>
                                <p class="card-text text-muted">Formatos para servicios escolares</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">ZIP • 5.8 MB</small>
                                    <button class="btn btn-warning btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-book fa-3x text-danger"></i>
                                </div>
                                <h5 class="card-title">Plan de Estudios</h5>
                                <p class="card-text text-muted">Materias y programa académico</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">PDF • 4.1 MB</small>
                                    <button class="btn btn-danger btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-body text-center p-4">
                                <div class="mb-3">
                                    <i class="fas fa-heart fa-3x text-secondary"></i>
                                </div>
                                <h5 class="card-title">Manual de Convivencia</h5>
                                <p class="card-text text-muted">Valores y principios institucionales</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <small class="text-muted">PDF • 2.7 MB</small>
                                    <button class="btn btn-secondary btn-sm">
                                        <i class="fas fa-download me-1"></i>Descargar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categorías de Documentos -->
        <section id="categorias-documentos" class="py-5 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center mb-5">
                        <h2 class="fw-bold">Explorar por Categorías</h2>
                        <p class="text-muted">Explora documentos organizados por categorías</p>
                    </div>
                </div>
                <div class="row g-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="text-center">
                            <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                                 style="width: 80px; height: 80px;">
                                <i class="fas fa-graduation-cap fa-2x"></i>
                            </div>
                            <h5 class="fw-bold">Académicos</h5>
                            <p class="text-muted">Planes de estudio, programas, guías académicas</p>
                            <button class="btn btn-outline-primary btn-sm" onclick="filterCategory('academicos')">
                                Ver documentos
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="text-center">
                            <div class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                                 style="width: 80px; height: 80px;">
                                <i class="fas fa-clipboard-list fa-2x"></i>
                            </div>
                            <h5 class="fw-bold">Administrativos</h5>
                            <p class="text-muted">Formatos, solicitudes, trámites escolares</p>
                            <button class="btn btn-outline-success btn-sm" onclick="filterCategory('administrativos')">
                                Ver documentos
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="text-center">
                            <div class="bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                                 style="width: 80px; height: 80px;">
                                <i class="fas fa-gavel fa-2x"></i>
                            </div>
                            <h5 class="fw-bold">Normativos</h5>
                            <p class="text-muted">Reglamentos, lineamientos, políticas</p>
                            <button class="btn btn-outline-info btn-sm" onclick="filterCategory('normativos')">
                                Ver documentos
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="text-center">
                            <div class="bg-warning text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                                 style="width: 80px; height: 80px;">
                                <i class="fas fa-book-reader fa-2x"></i>
                            </div>
                            <h5 class="fw-bold">Recursos Educativos</h5>
                            <p class="text-muted">Guías de estudio, material didáctico</p>
                            <button class="btn btn-outline-warning btn-sm" onclick="filterCategory('recursos')">
                                Ver documentos
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Guía de Usuario -->
        <section id="guia-usuario" class="py-5">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center mb-5">
                        <h2 class="fw-bold">¿Cómo usar el Centro de Descargas?</h2>
                        <p class="text-muted">Sigue estos pasos para encontrar y descargar documentos</p>
                    </div>
                </div>
                <div class="row g-4">
                    <div class="col-md-6 col-lg-3">
                        <div class="card border-0 shadow-sm h-100 text-center">
                            <div class="card-body p-4">
                                <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
                                     style="width: 60px; height: 60px; font-size: 1.5rem;">
                                    1
                                </div>
                                <h5 class="card-title">Busca</h5>
                                <p class="card-text text-muted">Usa el buscador o navega por categorías para encontrar el documento</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card border-0 shadow-sm h-100 text-center">
                            <div class="card-body p-4">
                                <div class="step-number bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
                                     style="width: 60px; height: 60px; font-size: 1.5rem;">
                                    2
                                </div>
                                <h5 class="card-title">Selecciona</h5>
                                <p class="card-text text-muted">Haz clic en el documento que necesitas para ver sus detalles</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card border-0 shadow-sm h-100 text-center">
                            <div class="card-body p-4">
                                <div class="step-number bg-warning text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
                                     style="width: 60px; height: 60px; font-size: 1.5rem;">
                                    3
                                </div>
                                <h5 class="card-title">Descarga</h5>
                                <p class="card-text text-muted">Presiona el botón de descarga y guarda el archivo en tu dispositivo</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="card border-0 shadow-sm h-100 text-center">
                            <div class="card-body p-4">
                                <div class="step-number bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
                                     style="width: 60px; height: 60px; font-size: 1.5rem;">
                                    4
                                </div>
                                <h5 class="card-title">Consulta</h5>
                                <p class="card-text text-muted">Revisa el documento descargado y utilízalo según tus necesidades</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Búsqueda de Documentos -->
        <section class="py-4 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="search-box">
                            <h5 class="text-center mb-4">
                                <i class="fas fa-search text-primary me-2"></i>
                                Buscar Documentos
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="documentSearch" 
                                           placeholder="Nombre del documento o palabra clave...">
                                </div>
                                <div class="col-md-4">
                                    <select class="form-select" id="categoryFilter">
                                        <option value="">Todas las categorías</option>
                                        <option value="academic">Académicos</option>
                                        <option value="administrative">Administrativos</option>
                                        <option value="regulatory">Normativos</option>
                                        <option value="educational">Recursos Educativos</option>
                                        <option value="forms">Formatos</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-primary w-100" onclick="searchDocuments()">
                                        <i class="fas fa-search me-1"></i>
                                        Buscar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categorías de Documentos -->
        <section id="catalogo-documentos" class="py-5">
            <div class="container">
                <div class="section-header text-center mb-5">
                    <h2 class="section-title">
                        <i class="fas fa-folder text-primary me-3" aria-hidden="true"></i>
                        Catálogo de Documentos
                    </h2>
                    <p class="section-subtitle text-muted">
                        Explora nuestro repositorio organizado por tipos de documentos
                    </p>
                </div>

                <div class="row g-4" id="categoriesContainer">
                    <!-- Las categorías se cargarán dinámicamente -->
                    <div class="col-12 text-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Cargando categorías...</span>
                        </div>
                        <p class="text-muted mt-2">Cargando repositorio...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Documentos Más Descargados -->
        <section id="documentos-populares" class="py-5 bg-light">
            <div class="container">
                <div class="section-header text-center mb-5">
                    <h2 class="section-title">
                        <i class="fas fa-star text-warning me-3" aria-hidden="true"></i>
                        Documentos Populares
                    </h2>
                    <p class="section-subtitle text-muted">
                        Los recursos más solicitados por nuestra comunidad
                    </p>
                </div>

                <div class="row" id="popularDocumentsContainer">
                    <!-- Los documentos populares se cargarán aquí -->
                </div>
            </div>
        </section>

        <!-- Documentos Recientes -->
        <section id="documentos-recientes" class="py-5">
            <div class="container">
                <div class="section-header text-center mb-5">
                    <h2 class="section-title">
                        <i class="fas fa-clock text-success me-3" aria-hidden="true"></i>
                        Documentos Recientes
                    </h2>
                    <p class="section-subtitle text-muted">
                        Últimas actualizaciones y nuevos recursos
                    </p>
                </div>

                <div class="row" id="recentDocumentsContainer">
                    <!-- Los documentos recientes se cargarán aquí -->
                </div>
            </div>
        </section>

        <!-- Estadísticas del Centro -->
        <section class="py-5 bg-primary text-white">
            <div class="container">
                <div class="row text-center g-4">
                    <div class="col-lg-3 col-sm-6">
                        <div class="stat-card">
                            <div class="stat-number display-4 fw-bold" id="totalDocuments">0</div>
                            <div class="stat-label">Documentos Disponibles</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="stat-card">
                            <div class="stat-number display-4 fw-bold" id="totalDownloads">0</div>
                            <div class="stat-label">Descargas Totales</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="stat-card">
                            <div class="stat-number display-4 fw-bold" id="totalCategories">0</div>
                            <div class="stat-label">Categorías</div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="stat-card">
                            <div class="stat-number display-4 fw-bold" id="monthlyUpdates">0</div>
                            <div class="stat-label">Actualizaciones/Mes</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ayuda y Soporte -->
        <section class="py-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="help-section text-center">
                            <h3 class="mb-4">
                                <i class="fas fa-question-circle text-info me-2"></i>
                                ¿Necesitas Ayuda?
                            </h3>
                            <p class="lead text-muted mb-4">
                                Si no encuentras el documento que buscas o tienes problemas para descargarlo, 
                                estamos aquí para ayudarte.
                            </p>
                            <div class="row g-3 justify-content-center">
                                <div class="col-md-4">
                                    <button class="btn btn-outline-primary w-100" onclick="showHelp()">
                                        <i class="fas fa-life-ring me-2"></i>
                                        Guía de Uso
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <button class="btn btn-outline-success w-100" onclick="requestDocument()">
                                        <i class="fas fa-plus-circle me-2"></i>
                                        Solicitar Documento
                                    </button>
                                </div>
                                <div class="col-md-4">
                                    <a href="contacto.html" class="btn btn-outline-info w-100">
                                        <i class="fas fa-envelope me-2"></i>
                                        Contactar Soporte
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal de Vista Previa -->
    <div class="modal fade" id="previewModal" tabindex="-1" aria-labelledby="previewModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="previewModalLabel">
                        <i class="fas fa-eye me-2"></i>
                        Vista Previa del Documento
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="previewModalBody">
                    <!-- Vista previa se cargará aquí -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="downloadFromPreview">
                        <i class="fas fa-download me-2"></i>
                        Descargar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Solicitud de Documento -->
    <div class="modal fade" id="requestModal" tabindex="-1" aria-labelledby="requestModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="requestModalLabel">
                        <i class="fas fa-plus-circle me-2"></i>
                        Solicitar Documento
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="documentRequestForm">
                        <div class="mb-3">
                            <label for="requesterName" class="form-label">Nombre completo *</label>
                            <input type="text" class="form-control" id="requesterName" required>
                        </div>
                        <div class="mb-3">
                            <label for="requesterEmail" class="form-label">Correo electrónico *</label>
                            <input type="email" class="form-control" id="requesterEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="requesterType" class="form-label">Tipo de usuario *</label>
                            <select class="form-select" id="requesterType" required>
                                <option value="">Seleccionar...</option>
                                <option value="student">Estudiante</option>
                                <option value="parent">Padre de familia</option>
                                <option value="teacher">Docente</option>
                                <option value="staff">Personal administrativo</option>
                                <option value="external">Usuario externo</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="documentName" class="form-label">Nombre del documento solicitado *</label>
                            <input type="text" class="form-control" id="documentName" required>
                        </div>
                        <div class="mb-3">
                            <label for="requestReason" class="form-label">Motivo de la solicitud *</label>
                            <textarea class="form-control" id="requestReason" rows="3" required
                                      placeholder="Explica por qué necesitas este documento..."></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="urgencyLevel" class="form-label">Nivel de urgencia</label>
                            <select class="form-select" id="urgencyLevel">
                                <option value="low">Baja</option>
                                <option value="normal" selected>Normal</option>
                                <option value="high">Alta</option>
                                <option value="urgent">Urgente</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-success" form="documentRequestForm">
                        <i class="fas fa-paper-plane me-2"></i>
                        Enviar Solicitud
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Ayuda -->
    <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title" id="helpModalLabel">
                        <i class="fas fa-life-ring me-2"></i>
                        Guía de Uso del Centro de Descargas
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="accordion" id="helpAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="help1">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                    <i class="fas fa-search me-2"></i>¿Cómo buscar documentos?
                                </button>
                            </h2>
                            <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#helpAccordion">
                                <div class="accordion-body">
                                    <ol>
                                        <li><strong>Búsqueda por nombre:</strong> Escribe el nombre del documento en el campo de búsqueda</li>
                                        <li><strong>Filtro por categoría:</strong> Usa el menú desplegable para filtrar por tipo de documento</li>
                                        <li><strong>Navegación por categorías:</strong> Explora las diferentes secciones organizadas</li>
                                        <li><strong>Documentos populares:</strong> Revisa la sección de más descargados</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="help2">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                    <i class="fas fa-download me-2"></i>¿Cómo descargar documentos?
                                </button>
                            </h2>
                            <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                                <div class="accordion-body">
                                    <ol>
                                        <li>Encuentra el documento que necesitas</li>
                                        <li>Haz clic en el botón "Descargar" o en el ícono PDF</li>
                                        <li>El archivo se descargará automáticamente en formato PDF</li>
                                        <li>Puedes usar "Vista previa" para verificar el contenido antes de descargar</li>
                                    </ol>
                                    <div class="alert alert-info mt-3">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <strong>Tip:</strong> Todos los documentos están en formato PDF para garantizar compatibilidad
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="help3">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                    <i class="fas fa-exclamation-triangle me-2"></i>Problemas Comunes
                                </button>
                            </h2>
                            <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>El documento no se descarga:</h6>
                                            <ul class="small">
                                                <li>Verifica tu conexión a internet</li>
                                                <li>Desactiva temporalmente el bloqueador de pop-ups</li>
                                                <li>Prueba con otro navegador</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>No encuentro el documento:</h6>
                                            <ul class="small">
                                                <li>Usa palabras clave diferentes</li>
                                                <li>Revisa todas las categorías</li>
                                                <li>Solicita el documento usando el formulario</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <a href="contacto.html" class="btn btn-info">
                        <i class="fas fa-envelope me-2"></i>
                        Contactar Soporte
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="main-footer"></div>

    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="darkModeToggle" aria-label="Alternar modo oscuro">
        <i class="fas fa-moon"></i>
    </button>
    
    <!-- Chat Bot Toggle Button -->
    <button class="chatbot-toggle" id="chatbotToggle" aria-label="Abrir chat de ayuda">
        <i class="fas fa-comments"></i>
    </button>
    
    <!-- Chat Bot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <div>
                <strong>Asistente Virtual</strong>
                <div style="font-size: 12px; opacity: 0.8;">Centro de Descargas</div>
            </div>
            <button onclick="toggleChatbot()" style="background: none; border: none; color: white; font-size: 18px; position: absolute; top: 10px; right: 15px;" aria-label="Cerrar chat">×</button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chatbot-message bot">
                <div class="response-professional">
                    <div class="response-title">🎓 Asistente Virtual BGE</div>
                    <div class="response-content">
                        <div class="response-section">
                            <div class="response-subtitle">¡Hola! Soy tu asistente inteligente</div>
                            <div class="response-text">Puedo ayudarte con información sobre admisiones, carreras, becas, horarios, y todo lo relacionado con nuestro bachillerato.</div>
                        </div>
                    </div>
                    <div class="response-footer">¿En qué puedo ayudarte hoy?</div>
                </div>
            </div>
        </div>
        
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Ej: formato de inscripción, reglamento escolar..." onkeypress="handleKeyPress(event)" aria-label="Escribe tu pregunta">
            <button onclick="sendMessage()" aria-label="Enviar mensaje">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Back to Top -->
    <button id="back-to-top" class="btn btn-primary rounded-circle position-fixed d-none" 
            style="bottom: 2rem; right: 2rem; width: 50px; height: 50px; z-index: 1000;"
            aria-label="Volver arriba" title="Volver arriba">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="js/script.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/search-simple.js"></script>
    <script src="js/download-center.js"></script>
    
    <!-- Dark Mode Functionality -->
    <script>
        // Dark mode functionality - CORREGIDO V2
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        
        if (darkModeToggle) {
            // Limpiar cualquier contenido de texto del botón
            const cleanToggleButton = () => {
                // Remover cualquier nodo de texto
                const textNodes = [...darkModeToggle.childNodes].filter(node => node.nodeType === Node.TEXT_NODE);
                textNodes.forEach(node => node.remove());
            };
            
            // Check for saved dark mode preference
            if (localStorage.getItem('darkMode') === 'enabled') {
                body.classList.add('dark-mode');
                updateDarkModeIcon(true);
            }
            
            darkModeToggle.addEventListener('click', (e) => {
                e.preventDefault();
                cleanToggleButton(); // Limpiar antes de cada toggle
                body.classList.toggle('dark-mode');
                
                if (body.classList.contains('dark-mode')) {
                    localStorage.setItem('darkMode', 'enabled');
                    updateDarkModeIcon(true);
                } else {
                    localStorage.setItem('darkMode', 'disabled');
                    updateDarkModeIcon(false);
                }
            });
            
            // Limpiar al cargar la página
            cleanToggleButton();
        }
        
        function updateDarkModeIcon(isDark) {
            if (darkModeToggle) {
                let icon = darkModeToggle.querySelector('i');
                
                // Si no existe el icono, crearlo
                if (!icon) {
                    icon = document.createElement('i');
                    darkModeToggle.innerHTML = ''; // Limpiar completamente
                    darkModeToggle.appendChild(icon);
                }
                
                if (isDark) {
                    icon.className = 'fas fa-sun';
                    darkModeToggle.setAttribute('aria-label', 'Activar modo claro');
                } else {
                    icon.className = 'fas fa-moon';
                    darkModeToggle.setAttribute('aria-label', 'Activar modo oscuro');
                }
            }
        }
    </script>
    
    <!-- Dark Mode Styles -->
    <style>
        /* Dark mode styles */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        
        body.dark-mode .bg-light {
            background-color: #2d2d2d !important;
            color: #ffffff;
        }
        
        body.dark-mode .card {
            background-color: #2d2d2d;
            border-color: #404040;
            color: #ffffff;
        }
        
        body.dark-mode .card-header {
            border-bottom-color: #404040;
        }
        
        body.dark-mode .text-muted {
            color: #adb5bd !important;
        }
        
        body.dark-mode .breadcrumb {
            background-color: #2d2d2d;
        }
        
        body.dark-mode .breadcrumb-item a {
            color: #adb5bd;
        }
        
        body.dark-mode .form-control {
            background-color: #404040;
            border-color: #555555;
            color: #ffffff;
        }
        
        body.dark-mode .form-control:focus {
            background-color: #404040;
            border-color: #17a2b8;
            color: #ffffff;
            box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.25);
        }
        
        body.dark-mode .input-group-text {
            background-color: #404040;
            border-color: #555555;
            color: #ffffff;
        }
        
        body.dark-mode .list-group-item {
            background-color: transparent;
            color: #ffffff;
            border-color: #404040;
        }
        
        body.dark-mode .btn-outline-primary {
            color: #79c0ff;
            border-color: #79c0ff;
        }
        
        body.dark-mode .btn-outline-primary:hover {
            background-color: #79c0ff;
            color: #1a1a1a;
        }
        
        body.dark-mode .btn-outline-info {
            color: #58d5ec;
            border-color: #58d5ec;
        }
        
        body.dark-mode .btn-outline-info:hover {
            background-color: #58d5ec;
            color: #1a1a1a;
        }
        
        body.dark-mode .chatbot-container {
            background-color: #2d2d2d;
            border: 1px solid #404040;
        }
        
        body.dark-mode .chatbot-input {
            border-top-color: #404040;
        }
        
        body.dark-mode .chatbot-input input {
            background-color: #404040;
            border-color: #555555;
            color: #ffffff;
        }
        
        body.dark-mode .message.bot {
            background-color: #404040;
            color: #ffffff;
        }
        
        body.dark-mode .hero-badges .badge:hover {
            box-shadow: 0 4px 15px rgba(255,255,255,0.1);
        }
        
        body.dark-mode .download-stats {
            background-color: #2d2d2d;
            border-color: #404040;
        }
        
        /* Dark mode toggle positioning */
        .dark-mode-toggle {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background-color: #17a2b8;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .dark-mode-toggle:hover {
            background-color: #138496;
            transform: scale(1.1);
        }
        
        /* Hero badges styling */
        .hero-badges .badge {
            padding: 0.6rem 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .hero-badges .badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
    </style>
    <!-- Scripts de autenticación admin -->
    <script src="js/admin-auth-secure.js"></script>
    <script src="force-admin-nuclear.js"></script>
</body>
</html>